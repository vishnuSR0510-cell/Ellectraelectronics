<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Ellectra | Login</title>

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">

  <!-- Custom CSS -->
  <link rel="stylesheet" href="assets/css/login.css">

  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/10.7.2/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.2/firebase-auth.js"></script>
</head>

<body class="d-flex align-items-center justify-content-center min-vh-100">

  <!-- üîπ Toast Notification Container -->
  <div id="toast-container"></div>

  <div class="login-box p-4 shadow-lg">
    <h2 class="text-center mb-4 fw-bold text-info">Ellectra Electronics Login</h2>

    <form id="loginForm">
      <div class="mb-3">
        <label for="loginEmail" class="form-label text-light">Email</label>
        <input type="email" class="form-control" id="loginEmail" placeholder="Enter your email" required>
      </div>

      <div class="mb-3 position-relative">
        <label for="loginPassword" class="form-label text-light">Password</label>
        <input type="password" class="form-control" id="loginPassword" placeholder="Enter your password" required>
        <i class="bi bi-eye-slash toggle-password" id="toggleLoginPassword" onclick="togglePassword('loginPassword', this)"></i>
      </div>

      <div class="text-end mb-3">
        <a href="#" class="text-info text-decoration-none fw-semibold" data-bs-toggle="modal" data-bs-target="#resetModal">
          Forgot Password?
        </a>
      </div>

      <button type="submit" class="btn btn-info w-100 fw-semibold mt-2">Login</button>

      <p class="text-center mt-3 text-secondary">
        Don‚Äôt have an account?
        <a href="signup.html" class="text-info fw-semibold text-decoration-none">Sign up</a>
      </p>
    </form>
  </div>

  <!-- üîí Password Reset Modal -->
  <div class="modal fade" id="resetModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content bg-dark text-light border border-info">
        <div class="modal-header border-0">
          <h5 class="modal-title text-info fw-bold">Reset Password</h5>
          <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body">
          <p class="text-secondary">Enter your registered email. We‚Äôll send you a reset link.</p>
          <input type="email" id="resetEmail" class="form-control mb-3" placeholder="Enter your email" required>
          <button class="btn btn-info w-100" onclick="sendResetEmail()">Send Reset Link</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Bootstrap + JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <script src="assets/js/firebase-config.js"></script>
  <script src="assets/js/login.js"></script>
  <script>
    // üëÅÔ∏è Toggle password visibility
    function togglePassword(id, icon) {
      const field = document.getElementById(id);
      const isPassword = field.type === "password";
      field.type = isPassword ? "text" : "password";
      icon.classList.toggle("bi-eye");
      icon.classList.toggle("bi-eye-slash");
    }
  </script>
</body>
</html>
